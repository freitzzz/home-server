<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="543px" preserveAspectRatio="none" style="width:463px;height:543px;background:#FFFFFF;" version="1.1" viewBox="0 0 463 543" width="463px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="29.0679" id="_title" style="stroke:none;stroke-width:1.0;" width="184" x="138.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="174" x="143.75" y="29.9659">Basics of a Reverse Proxy</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="27" x2="27" y1="124.1358" y2="459.608"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="173.5" x2="173.5" y1="124.1358" y2="459.608"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="402.5" x2="402.5" y1="124.1358" y2="459.608"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="5" y="120.0339">Client</text><ellipse cx="27.5" cy="53.5679" fill="#87CEFA" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.5,61.5679 L27.5,88.5679 M14.5,69.5679 L40.5,69.5679 M27.5,88.5679 L14.5,103.5679 M27.5,88.5679 L40.5,103.5679 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="5" y="473.574">Client</text><ellipse cx="27.5" cy="486.1759" fill="#87CEFA" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.5,494.1759 L27.5,521.1759 M14.5,502.1759 L40.5,502.1759 M27.5,521.1759 L14.5,536.1759 M27.5,521.1759 L40.5,536.1759 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFB6C1" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="118.5" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="96" x="125.5" y="92.9659">«Exposed Port»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="127" y="112.0339">Reverse Proxy</text><rect fill="#FFB6C1" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="118.5" y="458.608"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="96" x="125.5" y="480.574">«Exposed Port»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="127" y="499.6419">Reverse Proxy</text><rect fill="#90EE90" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="347.5" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="96" x="354.5" y="92.9659">«Internal Port»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="378.5" y="112.0339">Service</text><rect fill="#90EE90" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="347.5" y="458.608"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="96" x="354.5" y="480.574">«Internal Port»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="378.5" y="499.6419">Service</text><polygon fill="#181818" points="161.5,153.8419,171.5,157.8419,161.5,161.8419,165.5,157.8419" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27.5" x2="167.5" y1="157.8419" y2="157.8419"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="34.5" y="152.0328">HTTPs Request (TLS)</text><line style="stroke:#181818;stroke-width:1.0;" x1="173.5" x2="215.5" y1="189.5479" y2="189.5479"/><line style="stroke:#181818;stroke-width:1.0;" x1="215.5" x2="215.5" y1="189.5479" y2="202.5479"/><line style="stroke:#181818;stroke-width:1.0;" x1="174.5" x2="215.5" y1="202.5479" y2="202.5479"/><polygon fill="#181818" points="184.5,198.5479,174.5,202.5479,184.5,206.5479,180.5,202.5479" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="180.5" y="183.7389">Log Request</text><polygon fill="#181818" points="390.5,230.2539,400.5,234.2539,390.5,238.2539,394.5,234.2539" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="173.5" x2="396.5" y1="234.2539" y2="234.2539"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="180.5" y="228.4449">Forward HTTP Request (plain-text)</text><polygon fill="#181818" points="184.5,261.9599,174.5,265.9599,184.5,269.9599,180.5,265.9599" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178.5" x2="401.5" y1="265.9599" y2="265.9599"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="190.5" y="260.1509">Response (plain-text)</text><polygon fill="#181818" points="38.5,293.6659,28.5,297.6659,38.5,301.6659,34.5,297.6659" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="32.5" x2="172.5" y1="297.6659" y2="297.6659"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="44.5" y="291.8569">Response (TLS)</text><path d="M178,310.6659 L178,443.6659 L431,443.6659 L431,320.6659 L421,310.6659 L178,310.6659 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M421,310.6659 L421,320.6659 L431,320.6659 L421,310.6659 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="184" y="329.5629">The client never communicates</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="50" x="184" y="347.2689">directly</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="237" y="347.2689">with the service!</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="184" y="364.975"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="184" y="382.681">The only</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54" x="238" y="382.681">exposed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="295" y="382.681">port is the</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89" x="184" y="400.387">reverse proxy</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="276" y="400.387">service port.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="184" y="418.093"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="184" y="435.799">Each service has its</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="300" y="435.799">own</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="331" y="435.799">reverse proxy.</text><!--MD5=[ef6dae410267a1ee404e39c47f125ac5]
@startuml reverse-proxy-explained

title "Basics of a Reverse Proxy"

actor Client as C #LightSkyBlue
participant "Reverse Proxy" as RP <<Exposed Port>> #LightPink
participant Service as S <<Internal Port>> #LightGreen

C -> RP: HTTPs Request (TLS)
RP -> RP: Log Request
RP -> S: Forward HTTP Request (plain-text)
S - -> RP: Response (plain-text)
RP - -> C: Response (TLS)

note right of RP
The client never communicates
**directly** with the service!

The only **exposed** port is the 
**reverse proxy** service port.

Each service has its **own** reverse proxy.
end note

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>